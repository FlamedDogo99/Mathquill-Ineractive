const KEY="FlamedDogo99Mathquill";self.addEventListener("install",e=>{e.waitUntil(self.skipWaiting())}),self.addEventListener("message",e=>{"CACHE_URLS"===e.data.type&&e.waitUntil(caches.open(KEY).then(t=>t.addAll(e.data.payload)))}),self.addEventListener("fetch",e=>{e.respondWith((async()=>{try{console.log(`[Service Worker] Attempting live fetch: ${e.request.url}`);const t=await fetch(e.request);e.request.url.search="";const r=await caches.open(KEY);return console.log(`[Service Worker] Caching new resource: ${e.request.url}`),r.put(e.request,t.clone()),t}catch(t){console.log(`[Service Worker] Attempting to serve resource from cache: ${e.request.url}`);const r=await caches.match(e.request,{ignoreSearch:!0});if(r)return r}})())});